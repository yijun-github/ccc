{"_id":"_design/lgbt","views":{"sentiment_language":{"reduce":"function (keys, values, rereduce) {\n  var result = {\n    count: 0,\n    sentiment: 0\n  };\n  for (var i = 0; i < values.length; i++) {\n    result.count += values[i].count;\n    result.sentiment += Math.abs(values[i].sentiment);\n  }\n  return {\n    count: result.count,\n    sentiment: result.sentiment,\n    average_magnitude: result.sentiment/result.count,\n  };\n}","map":"function (doc) {\n  if (doc.LGBT === true && doc.language) {\n    var sentimentCategory;\n    if (doc.sentiment > 0) {\n      sentimentCategory = 'positive';\n    } else if (doc.sentiment < 0) {\n      sentimentCategory = 'negative';\n    } else {\n      sentimentCategory = 'neutral';\n    }\n    emit([doc.language, sentimentCategory], {count:1, sentiment:doc.sentiment});\n  }\n}"},"sentiment_state_monthly":{"reduce":"function (keys, values, rereduce) {\n  var result = {\n    count: 0,\n    sentiment: 0\n  };\n  for (var i = 0; i < values.length; i++) {\n    result.count += values[i].count;\n    result.sentiment += Math.abs(values[i].sentiment);\n  }\n  return {\n    count: result.count,\n    sentiment: result.sentiment,\n    average_magnitude: result.sentiment/result.count,\n  };\n}","map":"function (doc) {\n  var month = doc.date;\n  if (doc.LGBT === true && doc.state) {\n    var sentimentCategory;\n    if (doc.sentiment > 0) {\n      sentimentCategory = 'positive';\n    } else if (doc.sentiment < 0) {\n      sentimentCategory = 'negative';\n    } else {\n      sentimentCategory = 'neutral';\n    }\n    emit([month, doc.state, sentimentCategory], {count:1, sentiment:doc.sentiment});\n  }\n}"},"suburb_sentiment":{"reduce":"function (keys, values, rereduce) {\n  var result = {\n    count: 0,\n    sentiment: 0\n  };\n  for (var i = 0; i < values.length; i++) {\n    result.count += values[i].count;\n    result.sentiment += Math.abs(values[i].sentiment);\n  }\n  return {\n    count: result.count,\n    sentiment: result.sentiment,\n    average_magnitude: result.sentiment/result.count,\n  };\n}","map":"function(doc) {\n  if (doc.LGBT === true && doc.state)  {\n    var locationArray = doc.location.split(\",\");\n    var suburb = locationArray[0].trim();\n  \tvar sentimentCategory;\n    if (doc.sentiment > 0) {\n      sentimentCategory = 'positive';\n    } else if (doc.sentiment < 0) {\n      sentimentCategory = 'negative';\n    } else {\n      sentimentCategory = 'neutral';\n    }\n  \temit({suburb: suburb, state:doc.state, sentiment_category: sentimentCategory}, {count: 1, sentiment: doc.sentiment});\n    }\n}"},"sentiment_state":{"reduce":"function (keys, values, rereduce) {\n  var result = {\n    count: 0,\n    sentiment: 0\n  };\n  for (var i = 0; i < values.length; i++) {\n    result.count += values[i].count;\n    result.sentiment += Math.abs(values[i].sentiment);\n  }\n  return {\n    count: result.count,\n    sentiment: result.sentiment,\n    average_magnitude: result.sentiment/result.count,\n  };\n}","map":"function (doc) {\n  if (doc.LGBT === true && doc.state) {\n    var sentimentCategory;\n    if (doc.sentiment > 0) {\n      sentimentCategory = 'positive';\n    } else if (doc.sentiment < 0) {\n      sentimentCategory = 'negative';\n    } else {\n      sentimentCategory = 'neutral';\n    }\n    emit([doc.state, sentimentCategory], {count:1, sentiment:doc.sentiment});\n  }\n}"},"overall_sentiment":{"reduce":"function (keys, values, rereduce) {\n  if (rereduce) {\n    return sum(values);\n  } else {\n    return values.length;\n  }\n}","map":"function(doc) {\n  if (doc.LGBT === true) {\n    var sentiment = doc.sentiment;\n    var sentimentCategory;\n  \tif (sentiment < 0) {\n  \t    sentimentCategory = \"Negative\";\n  \t  } else if (sentiment === 0) {\n  \t    sentimentCategory = \"Neutral\";\n  \t  } else {\n  \t    sentimentCategory = \"Positive\";\n  \t  }\n  \temit(sentimentCategory, 1);\n    }\n}"}},"language":"javascript"}
